/* Test stdlib random: Random class */
#include <assert.h>
#include "../stdlib/random.btrc"

int main() {
    // Seeded random for deterministic results
    Random rng = new Random();
    rng.seed(42);

    // randint returns values in range
    for i in range(20) {
        int val = rng.randint(1, 10);
        assert(val >= 1 && val <= 10);
    }

    // random() returns [0, 1)
    for i in range(20) {
        float val = rng.random();
        assert(val >= 0.0f && val <= 1.0f);
    }

    // uniform returns values in range
    for i in range(20) {
        float val = rng.uniform(5.0f, 10.0f);
        assert(val >= 5.0f && val <= 10.0f);
    }

    // choice picks from the list
    List<int> items = [10, 20, 30, 40, 50];
    for i in range(20) {
        int picked = rng.choice(items);
        assert(picked == 10 || picked == 20 || picked == 30 || picked == 40 || picked == 50);
    }

    // shuffle doesn't lose elements
    List<int> deck = [1, 2, 3, 4, 5];
    rng.shuffle(deck);
    assert(deck.len == 5);
    assert(deck.contains(1));
    assert(deck.contains(2));
    assert(deck.contains(3));
    assert(deck.contains(4));
    assert(deck.contains(5));

    delete rng;

    print("PASS: test_stdlib_random");
    return 0;
}
